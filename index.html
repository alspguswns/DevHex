<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DevHex â€“ ë‚´ ì˜í˜¼ì˜ ìƒ‰ (10ë¬¸í•­ ì™„ì „íŒ ë°ëª¨)</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* slider style */
    input[type=range]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:9999px; background:#111; cursor:pointer; }
    input[type=range]::-webkit-slider-runnable-track{ height:6px; border-radius:9999px; background:linear-gradient(90deg,#ef4444,#22c55e,#3b82f6); }
    input[type=range]{ appearance:none; height:6px; border-radius:9999px; background:linear-gradient(90deg,#ef4444,#22c55e,#3b82f6); }
    input[type=range]::-moz-range-thumb{ width:18px; height:18px; border-radius:9999px; background:#111; border:none; }
  </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-900">
  <header class="max-w-5xl mx-auto px-6 py-10">
    <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">DevHex â€“ ë‚´ ì˜í˜¼ì˜ ìƒ‰ (10ë¬¸í•­ ë°ëª¨)</h1>
    <p class="mt-3 text-slate-600">ìŠ¬ë¼ì´ë”(5) + ê°ê´€ì‹(5)ìœ¼ë¡œ ì‘ë‹µí•˜ë©´ <span class="font-semibold">RGB â†’ HEX</span>ë¡œ ê³ ìœ  ìƒ‰ì´ ìƒì„±ë©ë‹ˆë‹¤. (ì‹¤ì„œë¹„ìŠ¤ìš© ê¸°ì´ˆ êµ¬ì¡°)</p>
  </header>

  <main class="max-w-5xl mx-auto px-6 grid lg:grid-cols-2 gap-8 pb-20">
    <!-- Left: Form -->
    <section class="space-y-8 order-2 lg:order-1">
      <!-- SLIDERS -->
      <div class="bg-white rounded-2xl shadow p-6">
        <h2 class="text-lg font-bold">A. ìŠ¬ë¼ì´ë“œí˜• (5)</h2>
        <p class="text-sm text-slate-500 mb-4">ê° ë¬¸í•­ì„ 0~100 ì‚¬ì´ì—ì„œ ì¡°ì ˆí•˜ì„¸ìš”.</p>

        <!-- Q1 -->
        <div class="py-4 border-t first:border-t-0">
          <label for="q1" class="block text-sm font-semibold text-slate-700">Q1. ê°ì • í‘œí˜„: ìˆ¨ê¹€ ğŸ¤ â†” ì†”ì§ ğŸ’¬</label>
          <div class="mt-3 flex items-center gap-3">
            <span class="text-xs text-slate-500">ìˆ¨ê¹€</span>
            <input id="q1" type="range" min="0" max="100" value="50" class="flex-1" />
            <span class="text-xs text-slate-500">ì†”ì§</span>
          </div>
          <div class="mt-1 text-right text-xs text-slate-500"><span id="q1v">50</span>/100</div>
        </div>

        <!-- Q2 -->
        <div class="py-4 border-t">
          <label for="q2" class="block text-sm font-semibold text-slate-700">Q2. ìƒí™œ ë°©ì‹: ê³„íšì  ğŸ“… â†” ì¦‰í¥ì  ğŸ²</label>
          <div class="mt-3 flex items-center gap-3">
            <span class="text-xs text-slate-500">ê³„íšì </span>
            <input id="q2" type="range" min="0" max="100" value="50" class="flex-1" />
            <span class="text-xs text-slate-500">ì¦‰í¥ì </span>
          </div>
          <div class="mt-1 text-right text-xs text-slate-500"><span id="q2v">50</span>/100</div>
        </div>

        <!-- Q3 -->
        <div class="py-4 border-t">
          <label for="q3" class="block text-sm font-semibold text-slate-700">Q3. ì—ë„ˆì§€ ì›ì²œ: í˜¼ìì¼ ë•Œ ğŸŒ™ â†” ì‚¬ëŒë“¤ê³¼ ğŸŒ</label>
          <div class="mt-3 flex items-center gap-3">
            <span class="text-xs text-slate-500">í˜¼ì</span>
            <input id="q3" type="range" min="0" max="100" value="50" class="flex-1" />
            <span class="text-xs text-slate-500">ì‚¬ëŒë“¤</span>
          </div>
          <div class="mt-1 text-right text-xs text-slate-500"><span id="q3v">50</span>/100</div>
        </div>

        <!-- Q4 -->
        <div class="py-4 border-t">
          <label for="q4" class="block text-sm font-semibold text-slate-700">Q4. ì‚¬ê³  ì´ˆì : ë””í…Œì¼ ğŸ” â†” í° ê·¸ë¦¼ ğŸŒ</label>
          <div class="mt-3 flex items-center gap-3">
            <span class="text-xs text-slate-500">ë””í…Œì¼</span>
            <input id="q4" type="range" min="0" max="100" value="50" class="flex-1" />
            <span class="text-xs text-slate-500">í° ê·¸ë¦¼</span>
          </div>
          <div class="mt-1 text-right text-xs text-slate-500"><span id="q4v">50</span>/100</div>
        </div>

        <!-- Q5 -->
        <div class="py-4 border-t">
          <label for="q5" class="block text-sm font-semibold text-slate-700">Q5. ìœ„í—˜ ì„±í–¥: íšŒí”¼ â›” â†” ë„ì „ ğŸš€</label>
          <div class="mt-3 flex items-center gap-3">
            <span class="text-xs text-slate-500">íšŒí”¼</span>
            <input id="q5" type="range" min="0" max="100" value="50" class="flex-1" />
            <span class="text-xs text-slate-500">ë„ì „</span>
          </div>
          <div class="mt-1 text-right text-xs text-slate-500"><span id="q5v">50</span>/100</div>
        </div>
      </div>

      <!-- MCQ -->
      <div class="bg-white rounded-2xl shadow p-6">
        <h2 class="text-lg font-bold">B. ê°ê´€ì‹ (4ì§€ì„ ë‹¤ Ã— 5)</h2>
        <p class="text-sm text-slate-500 mb-4">í•œ ë¬¸í•­ë‹¹ í•˜ë‚˜ì”© ì„ íƒí•˜ì„¸ìš”.</p>

        <!-- helper: radio group builder uses data-r/g/b for weights -->
        <fieldset class="py-4">
          <legend class="block text-sm font-semibold text-slate-700 mb-2">Q6. ì¢‹ì•„í•˜ëŠ” ê³„ì ˆì€?</legend>
          <div class="grid sm:grid-cols-2 gap-2 text-sm">
            <label class="flex items-center gap-2 p-2 border rounded-lg">
              <input type="radio" name="q6" data-r="10" data-g="20" data-b="0" /> ë´„
            </label>
            <label class="flex items-center gap-2 p-2 border rounded-lg">
              <input type="radio" name="q6" data-r="0" data-g="0" data-b="30" /> ì—¬ë¦„
            </label>
            <label class="flex items-center gap-2 p-2 border rounded-lg">
              <input type="radio" name="q6" data-r="20" data-g="10" data-b="0" /> ê°€ì„
            </label>
            <label class="flex items-center gap-2 p-2 border rounded-lg">
              <input type="radio" name="q6" data-r="0" data-g="10" data-b="20" /> ê²¨ìš¸
            </label>
          </div>
        </fieldset>

        <fieldset class="py-4 border-t">
          <legend class="block text-sm font-semibold text-slate-700 mb-2">Q7. ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í’€ ë•Œ ë‚˜ëŠ”â€¦</legend>
          <div class="grid sm:grid-cols-2 gap-2 text-sm">
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q7" data-r="20" data-g="10" data-b="0"/> ì¹œêµ¬ë“¤ê³¼ ìˆ˜ë‹¤</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q7" data-r="0" data-g="0" data-b="30"/> ìŒì•… ê°ìƒ</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q7" data-r="10" data-g="0" data-b="20"/> í˜¼ì ì‚¬ìƒ‰</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q7" data-r="30" data-g="0" data-b="0"/> ìš´ë™</label>
          </div>
        </fieldset>

        <fieldset class="py-4 border-t">
          <legend class="block text-sm font-semibold text-slate-700 mb-2">Q8. ê°€ì¥ ëŒë¦¬ëŠ” í’ê²½ì€?</legend>
          <div class="grid sm:grid-cols-2 gap-2 text-sm">
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q8" data-r="0" data-g="0" data-b="30"/> ë°”ë‹¤</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q8" data-r="0" data-g="30" data-b="0"/> ìˆ²</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q8" data-r="30" data-g="0" data-b="0"/> ë…¸ì„</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q8" data-r="10" data-g="10" data-b="10"/> ë§‘ì€ í•˜ëŠ˜</label>
          </div>
        </fieldset>

        <fieldset class="py-4 border-t">
          <legend class="block text-sm font-semibold text-slate-700 mb-2">Q9. ì‚¬ëŒë“¤ì´ ë‚˜ë¥¼ ì–´ë–»ê²Œ ë³´ê¸¸ ì›í•˜ë‚˜ìš”?</legend>
          <div class="grid sm:grid-cols-2 gap-2 text-sm">
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q9" data-r="20" data-g="20" data-b="0"/> ë°ê³  í™œë°œí•˜ê²Œ</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q9" data-r="0" data-g="0" data-b="30"/> ì‹ ë¢°ê° ìˆê²Œ</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q9" data-r="15" data-g="0" data-b="15"/> ì°½ì˜ì Â·ê°œì„± ìˆê²Œ</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q9" data-r="20" data-g="10" data-b="0"/> ë”°ëœ»í•˜ê³  ë‹¤ì •í•˜ê²Œ</label>
          </div>
        </fieldset>

        <fieldset class="py-4 border-t">
          <legend class="block text-sm font-semibold text-slate-700 mb-2">Q10. ì´ìƒì ì¸ í•˜ë£¨ëŠ”?</legend>
          <div class="grid sm:grid-cols-2 gap-2 text-sm">
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q10" data-r="30" data-g="0" data-b="0"/> í™œë ¥ ë„˜ì¹˜ëŠ” í•˜ë£¨</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q10" data-r="0" data-g="30" data-b="0"/> í‰í™”ë¡œìš´ í•˜ë£¨</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q10" data-r="15" data-g="0" data-b="15"/> ì˜ê° ê°€ë“í•œ í•˜ë£¨</label>
            <label class="flex items-center gap-2 p-2 border rounded-lg"><input type="radio" name="q10" data-r="0" data-g="10" data-b="20"/> ì°¨ë¶„íˆ ì •ë¦¬ë˜ëŠ” í•˜ë£¨</label>
          </div>
        </fieldset>

        <div class="mt-4 flex flex-wrap gap-3">
          <button id="resetBtn" class="px-4 py-2 rounded-xl bg-slate-200 hover:bg-slate-300 text-slate-800 font-medium shadow">ì´ˆê¸°í™”</button>
          <button id="randomBtn" class="px-4 py-2 rounded-xl bg-slate-900 hover:bg-black text-white font-medium shadow">ëœë¤</button>
        </div>
      </div>
    </section>

    <!-- Right: Result -->
    <aside class="bg-white rounded-2xl shadow p-6 flex flex-col gap-4 lg:sticky lg:top-6 h-fit order-1 lg:order-2">
      <div>
        <h2 class="text-xl font-bold">ê²°ê³¼</h2>
        <p class="text-slate-500 text-sm">ì‘ë‹µì— ë”°ë¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒ‰ìƒì´ ìƒì„±ë©ë‹ˆë‹¤.</p>
      </div>

      <div id="swatch" class="h-48 w-full rounded-2xl shadow-inner border border-slate-200"></div>

      <div class="grid grid-cols-3 gap-3 text-sm">
        <div class="p-3 rounded-xl bg-slate-50 border"><div class="text-xs text-slate-500">R</div><div id="rVal" class="font-semibold">0</div></div>
        <div class="p-3 rounded-xl bg-slate-50 border"><div class="text-xs text-slate-500">G</div><div id="gVal" class="font-semibold">0</div></div>
        <div class="p-3 rounded-xl bg-slate-50 border"><div class="text-xs text-slate-500">B</div><div id="bVal" class="font-semibold">0</div></div>
      </div>

      <div class="flex items-center gap-3">
        <div class="text-lg font-mono font-semibold" id="hex">#000000</div>
        <button id="copyBtn" class="px-3 py-2 rounded-lg bg-slate-900 text-white text-sm hover:bg-black">HEX ë³µì‚¬</button>
      </div>

      <div>
        <div class="flex items-center justify-between mb-2">
          <h3 class="text-sm font-semibold text-slate-700">ì„±ê²© í‚¤ì›Œë“œ</h3>
          <div class="text-xs text-slate-500">ì™„ë£Œìœ¨: <span id="progress">50</span>%</div>
        </div>
        <div id="keywords" class="flex flex-wrap gap-2 text-xs"></div>
      </div>

      <p class="text-xs text-slate-500 mt-2">â€» ë°ëª¨ëŠ” í´ë¼ì´ì–¸íŠ¸ ê³„ì‚°ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ê°€ì¤‘ì¹˜ ë³´ì •, ì‘ë‹µ ì €ì¥(DB), ê³µìœ  ì´ë¯¸ì§€(OG) ë“±ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>
    </aside>
  </main>

  <footer class="max-w-5xl mx-auto px-6 pb-12 text-center text-xs text-slate-500">Â© DevHex Demo â€“ Color Psychology Test</footer>

  <script>
    // ===== SLIDERS =====
    const sliders = [1,2,3,4,5].map(i=>({
      input: document.getElementById(`q${i}`),
      view: document.getElementById(`q${i}v`)
    }));

    // ===== RADIO GROUPS (MCQ) =====
    const mcqNames = ['q6','q7','q8','q9','q10'];

    const swatch = document.getElementById('swatch');
    const hexEl = document.getElementById('hex');
    const rEl = document.getElementById('rVal');
    const gEl = document.getElementById('gVal');
    const bEl = document.getElementById('bVal');
    const copyBtn = document.getElementById('copyBtn');
    const resetBtn = document.getElementById('resetBtn');
    const randomBtn = document.getElementById('randomBtn');
    const keywordsEl = document.getElementById('keywords');
    const progressEl = document.getElementById('progress');

    const clamp255 = (x) => Math.max(0, Math.min(255, x));
    const toHex = (n) => n.toString(16).padStart(2, '0');

    function progress() {
      // 5 sliders are always answered; count selected radios
      const answeredMCQ = mcqNames.reduce((acc,name)=> acc + (document.querySelector(`input[name="${name}"]:checked`)?1:0), 0);
      const pct = Math.round(((5 + answeredMCQ) / 10) * 100);
      progressEl.textContent = pct;
    }

    function computeRGB() {
      // Sliders
      const v = sliders.map(s=> Number(s.input.value));
      // v[0]=Q1 ìˆ¨ê¹€â†”ì†”ì§, v[1]=Q2 ê³„íšâ†”ì¦‰í¥, v[2]=Q3 í˜¼ìâ†”ì‚¬ëŒ, v[3]=Q4 ë””í…Œì¼â†”í°ê·¸ë¦¼, v[4]=Q5 íšŒí”¼â†”ë„ì „
      let R=0, G=0, B=0;

      // Q1: R += v1; B += (100-v1)
      R += v[0];
      B += (100 - v[0]);

      // Q2: G += (100-v2); R += v2
      G += (100 - v[1]);
      R += v[1];

      // Q3: B += (100-v3); R += v3
      B += (100 - v[2]);
      R += v[2];

      // Q4: G += (100-v4); R += 0.5*v4; B += 0.5*v4
      G += (100 - v[3]);
      R += 0.5 * v[3];
      B += 0.5 * v[3];

      // Q5: G += (100-v5); R += v5
      G += (100 - v[4]);
      R += v[4];

      // MCQ add-ons
      mcqNames.forEach(name=>{
        const sel = document.querySelector(`input[name="${name}"]:checked`);
        if(!sel) return;
        R += Number(sel.dataset.r||0);
        G += Number(sel.dataset.g||0);
        B += Number(sel.dataset.b||0);
      });

      // Normalize: scale by max channel to 255 (preserves hue, maximizes vividness)
      const maxVal = Math.max(R, G, B, 1);
      const scale = 255 / maxVal;
      R = Math.round(clamp255(R * scale));
      G = Math.round(clamp255(G * scale));
      B = Math.round(clamp255(B * scale));

      return { R, G, B };
    }

    function render() {
      sliders.forEach(s=> s.view.textContent = s.input.value);
      const { R, G, B } = computeRGB();
      const hex = `#${toHex(R)}${toHex(G)}${toHex(B)}`.toUpperCase();
      swatch.style.backgroundColor = hex;
      hexEl.textContent = hex;
      rEl.textContent = R; gEl.textContent = G; bEl.textContent = B;

      // keywords by channel ranking
      const channels = [
        { k: 'ì—ë„ˆì§€', v: R, alt: ['ì—´ì •','ë„ì „'] },
        { k: 'ì•ˆì •', v: G, alt: ['ê· í˜•','ì¹œí™”'] },
        { k: 'ì°¨ë¶„', v: B, alt: ['ì‹ ë¢°','ì‚¬ìƒ‰'] },
      ].sort((a,b)=>b.v-a.v);

      keywordsEl.innerHTML = '';
      const pills = [channels[0].k, channels[1].alt[0], channels[2].alt[1]];
      pills.forEach(t=>{
        const span = document.createElement('span');
        span.className = 'px-2.5 py-1 rounded-full bg-slate-100 border text-slate-700';
        span.textContent = t;
        keywordsEl.appendChild(span);
      });

      progress();
    }

    // events
    sliders.forEach(s=> s.input.addEventListener('input', render));
    mcqNames.forEach(name=>{
      document.querySelectorAll(`input[name="${name}"]`).forEach(r=> r.addEventListener('change', render));
    });

    copyBtn.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(hexEl.textContent);
        copyBtn.textContent = 'ë³µì‚¬ë¨!';
        setTimeout(()=> copyBtn.textContent = 'HEX ë³µì‚¬', 1200);
      }catch(e){ alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆì–´ìš”.'); }
    });

    resetBtn.addEventListener('click', ()=>{
      sliders.forEach(s=> s.input.value = 50);
      mcqNames.forEach(name=>{
        document.querySelectorAll(`input[name="${name}"]`).forEach(r=> r.checked=false);
      });
      render();
    });

    randomBtn.addEventListener('click', ()=>{
      sliders.forEach(s=> s.input.value = Math.floor(Math.random()*101));
      mcqNames.forEach(name=>{
        const opts = Array.from(document.querySelectorAll(`input[name="${name}"]`));
        const pick = opts[Math.floor(Math.random()*opts.length)];
        opts.forEach(o=> o.checked = false);
        if(pick) pick.checked = true;
      });
      render();
    });

    // initial render
    render();
  </script>
</body>
</html>
